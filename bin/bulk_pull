#!/usr/bin/env python
# -*- coding: utf:8 -*-
# Pulls all git repositories under a root directory
#    -aeVar 2015
# -Runs from current directory unless a system argument is passed:
#  > bulk_pull $PATH
# -Accepts a drag'n drop folder for pull target

import os
import sys

if len(sys.argv) == 1:
	root = os.getcwd()
else:
	root = sys.argv[-1]

def bulk_pull():
	targets = [os.path.join(root,n) for n in os.listdir(root)]
	for entry in targets:
		if os.path.isdir(entry):
			if '.git' in os.listdir(entry):
				print '--[ Fetching: %s' % entry
				os.chdir(entry)
				os.system('git pull')
	os.chdir( root)

if __name__ == '__main__':
	bulk_pull()